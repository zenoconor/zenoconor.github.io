"use strict";define("verticalMenu/components/verticalMenuDomBuilder",["react","lodash","zepto","utils"],function(e,t,i,s){function n(e,t){var i;if(e.link&&"PageLink"===e.link.type&&e.link.pageId.id===t)return!0;for(i=0;i<e.items.length;i++)if(n(e.items[i],t))return!0;return!1}function r(e){var t=i(e.target).find("a")[0];return!t||(t.click(),!1)}function a(e,i,n,r,a,o,l,p,u){var c={};c[i+"_selected"]=n,c[i+"_hover"]=s.stringUtils.startsWith(o,a),c[e]=!0;var m={className:s.classNames(c),style:{height:r},onClick:p?l.click:l.leave,id:a,key:a};return u&&t.assign(m,{onMouseEnter:l.enter,onMouseLeave:l.leave}),m}function o(e,t,i,s){return{style:{marginBottom:s+"px"},className:e?t:t+" "+i+"_emptySubMenu"}}function l(e,i,s,n,r,a,o){var l={className:e+" "+i+"_label level"+r,style:{lineHeight:s+"px"},onClick:o?a.click:a.leave};return n&&t.merge(l,n.render),l}function p(e){t.includes(e.className,"Wrapper")&&(e.onClick=r)}return{getSkin:function(e,t){return e[t]},buildTemplate:function(e,i){var s=e.slice(3,e.length),n=[];return t.forEach(s,function(e){t.isArray(e)&&n.push(this.buildTemplate(e,i))}.bind(this)),{tag:e[0].toLowerCase(),skinPart:e[1],className:t.map(e[2],function(e){return i+e}),items:n}},buildDomItem:function(i,s,r,u,c,m,h,d,g,b,v,f){var I=e.DOM[s.tag],M=[],k={className:s.className.concat(u.link?"":c+"_noLink").join(" ")},D=g+r.indexOf(u)+"_",P=t.filter(u.items,{isVisible:!0}).length>0;switch(s.tag){case"a":M.push(u.label),k=l(k.className,c,h.line,u.link,d,v,P);break;case"ul":t.forEach(u.items,function(e){e.isVisible&&M.push(this.buildDomItem(i,i,u.items,e,c,m,h,d+1,D,b,v,f))}.bind(this)),k=o(P,k.className,c,h.separator);break;case"li":t.forEach(s.items,function(e){M.push(this.buildDomItem(i,e,r,u,c,m,h,d,g,b,v,f))}.bind(this)),k=a(k.className,c,n(u,m),h.item,D,b,v,P,f);break;default:t.forEach(s.items,function(e){M.push(this.buildDomItem(i,e,r,u,c,m,h,d,g,b,v,f))}.bind(this))}return p(k),"ul"===s.tag?I(k,M):I.apply(null,[k].concat(M))},buildDOMFromTemplate:function(i,s,n,r,a,o,l,p){var u=i.items[0],c=t(s).filter("isVisible").map(function(e){return this.buildDomItem(u,u,s,e,n,r,a,0,"root",o,l,p)}.bind(this)).value();return e.DOM.ul({className:n+"menuContainer"},c)}}}),define("verticalMenu/components/verticalMenuItem",["skins","verticalMenu/components/verticalMenuDomBuilder"],function(e,t){return{displayName:"MenuItem",render:function(){var i=t.getSkin(e.skins,this.props.skin),s=t.buildTemplate(i.react[0],this.props.classPrefix);return t.buildDOMFromTemplate(s,this.props.data,this.props.classPrefix,this.props.currentUrlPageId,this.props.heights,this.props.hoverId,this.props.callbacks,this.props.isDesktop,this.props.isIE)}}}),define("verticalMenu",["zepto","lodash","react","core","utils","verticalMenu/components/verticalMenuItem","reactDOM","santaProps"],function(e,t,i,s,n,r,a,o){function l(t){var i=c(t.target),s=i.id,n=e(i).find("ul")[0].children.length>0,r=s===this.state.hoverId;n?r?this.setState({hoverId:null}):(this.setState({hoverId:s}),t.preventDefault()):this.setState({hoverId:null})}function p(e){var t=c(e.target).id;t!==this.state.hoverId&&this.setState({hoverId:t})}function u(){this.setState({hoverId:null})}function c(e){for(;"LI"!==e.tagName;)e=e.parentElement;return e}var m=s.compMixins,h=i.createFactory(i.createClass(r));return{displayName:"VerticalMenu",mixins:[m.skinBasedComp,m.skinInfo],propTypes:{browser:o.Types.Browser.browser.isRequired,isMobileDevice:o.Types.Device.isMobileDevice,isTabletDevice:o.Types.Device.isTabletDevice,siteMenuWithRender:o.Types.Menu.siteMenuWithRender,currentUrlPageId:o.Types.Component.currentUrlPageId.isRequired,compData:o.Types.Component.compData,compProp:o.Types.Component.compProp,styleId:o.Types.Component.styleId,skin:o.Types.Component.skin,style:o.Types.Component.style},statics:{useSantaTypes:!0},getInitialState:function(){return{$subMenuOpenSide:"subMenuOpenSide-"+this.props.compProp.subMenuOpenSide,$itemsAlignment:"items-align-"+this.props.compProp.itemsAlignment,$subItemsAlignment:"subItems-align-"+this.props.compProp.itemsAlignment,hoverId:null}},componentWillReceiveProps:function(e){e.compProp.itemsAlignment!==this.props.compProp.itemsAlignment&&this.setState({$itemsAlignment:"items-align-"+e.compProp.itemsAlignment,$subItemsAlignment:"subItems-align-"+e.compProp.itemsAlignment}),e.compProp.subMenuOpenSide!==this.props.compProp.subMenuOpenSide&&this.setState({$subMenuOpenSide:"subMenuOpenSide-"+e.compProp.subMenuOpenSide})},updateDOMDataAttributes:function(){var e=a.findDOMNode(this),t=this.getParamValues();this.lastParams=t,e.setAttribute("data-param-border",t.border),e.setAttribute("data-param-separator",t.separator),e.setAttribute("data-param-padding",t.padding)},componentDidMount:function(){this.updateDOMDataAttributes()},componentDidUpdate:function(){t.isEqual(this.getParamValues(),this.lastParams)||this.updateDOMDataAttributes()},getParamValues:function(){var e=this.getParamFromDefaultSkin("separatorHeight")||this.getParamFromDefaultSkin("sepw"),t=this.getParamFromDefaultSkin("textSpacing"),i=this.getParamFromDefaultSkin("brw");return{separator:e?parseInt(e.value,10):0,border:i?parseInt(i.value,10):0,padding:t?parseInt(t.value,10):0}},getSkinProperties:function(){var e=this.getParamValues(),t=this.getSkinExports(),i=this.props.siteMenuWithRender,s=n.verticalMenuCalculations.getVisibleItemsCount(i),r=n.verticalMenuCalculations.getItemHeight(this.props.style.height,e.separator,s,t);return{"":{onMouseEnter:this.updateDirection},menuContainer:{parentConst:h,data:i,skin:this.props.skin,classPrefix:this.props.styleId,currentUrlPageId:this.props.currentUrlPageId,heights:{separator:t&&t.separatorNotIncludedInLineHeight?0:e.separator,line:n.verticalMenuCalculations.getLineHeight(r,e.separator,e.border,t),item:r},callbacks:{click:l.bind(this),enter:p.bind(this),leave:u.bind(this)},hoverId:this.state.hoverId,isDesktop:!(this.props.isMobileDevice||this.props.isTabletDevice),isIE:!!this.props.browser.ie}}}}});
//# sourceMappingURL=verticalMenu.min.js.map