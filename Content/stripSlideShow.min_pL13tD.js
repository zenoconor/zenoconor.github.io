"use strict";define("stripSlideShow/common/boxSlideShowAutoPlay",["santaProps"],function(t){return{propTypes:{isPlayingAllowed:t.Types.RenderFlags.isPlayingAllowed,isZoomOpened:t.Types.isZoomOpened.isRequired,id:t.Types.Component.id.isRequired,compProp:t.Types.Component.compProp.isRequired},canAutoPlay:function(t){return this.getSlidesFromChildren(this.props.children).length>1&&t&&this.props.isPlayingAllowed&&!this.props.isZoomOpened},toggleAutoPlay:function(){this.setState({autoPlay:!this.state.autoPlay},this.updateAutoPlayState)},updateAutoPlayState:function(){this.clearTimeoutNamed(this.props.id),this.state.autoPlay&&this.setTimeoutNamed(this.props.id,this.autoplayCallback,this.getAutoplayInterval())},autoplayCallback:function(){this.props.isZoomOpened||(this.clickMoveToNextSlide(),this.updateAutoPlayState())},getAutoplayInterval:function(){var t=this.props.compProp.autoPlayInterval;return Math.floor(1e3*t)},componentDidMount:function(){this.updateAutoPlayState()}}}),define("stripSlideShow/common/slideNavigationMixin",["react","lodash","core","santaProps","stripSlideShow/common/boxSlideShowAutoPlay"],function(t,i,e,o,s){function n(t,i){var e=t.selectedButtonSizeRatio||1;return Math.floor(i*e)}function r(t,e){return t?i.pick(t,["currentIndex","autoPlay"]):{currentIndex:0,autoPlay:e.props.autoPlay||!1}}var a=e.compMixins,p={center:"center",left:"flex-start",right:"flex-end"},l=e.componentUtils.boxSlideShowCommon;return{propTypes:{triggerFakeModeChange:o.Types.Modes.triggerFakeModeChange.isRequired,compData:o.Types.Component.compData.isRequired,compProp:o.Types.Component.compProp.isRequired},mixins:[a.skinBasedComp,a.timeoutsMixin,s,a.animationsMixin,a.compStateMixin(r)],getInitialState:function(){return this.reverse=!1,this.isDirectionLeftToRight="LTR"===this.props.compProp.direction,i.assign(r(null,{props:this.props.compProp}),{isInTransition:!1,autoPlay:this.canAutoPlay(this.props.compProp.autoPlay)})},setCurrentSlideAndRegisterRelayout:function(t,e,o,s){if(!this.state.isInTransition||e){this.registerReLayout();var n=i.isFunction(s)?s:i.noop;this.setState({currentIndex:t,isInTransition:o},function(){this.props.triggerFakeModeChange(this.props.currentUrlPageId,this.props.id),n()}),this.handleAction("change")}},componentWillReceiveProps:function(t){if(this.props.compProp.direction!==t.compProp.direction&&(this.isDirectionLeftToRight="LTR"===t.compProp.direction),t.children){var e=this.getSlidesFromChildren(this.props.children).length,o=this.getSlidesFromChildren(t.children).length;if(o<e){var s=i.map(t.children,"ref"),n=i.map(this.props.children,"ref"),r=n[this.state.currentIndex],a=i.difference(n,s),p=i.indexOf(n,a[0]),l=this.state.currentIndex>0?this.state.currentIndex-1:0;i.includes(s,r)?l=s.indexOf(r):l>=o&&(l=o-1);var h=this.state.currentIndex>=o;if(this.state.currentIndex!==l){var d=this.state.currentIndex===p;this.setCurrentSlideAndRegisterRelayout(l,h,d)}}var u=this.canAutoPlay(t.compProp.autoPlay);u!==this.state.autoPlay&&(this.setState({autoPlay:u},this.updateAutoPlayState),this.handleAction(u?"autoplayOn":"autoplayOff"))}},createDotsNavigationButtons:function(){var e=this.getSlidesFromChildren(this.props.children),o=this.getSkinExports(),s=[];return i.forEach(e,function(i,e){var r=this.state.currentIndex===e,a=r?n(o,this.props.compProp.navigationDotsSize):this.props.compProp.navigationDotsSize,p={className:this.classSet({"navigation-dot":!0,selected:r}),style:{width:a,height:a,marginRight:this.props.compProp.navigationDotsGap/2,marginLeft:this.props.compProp.navigationDotsGap/2}};s.push(t.DOM.div({className:this.classSet({"navigation-dot-wrapper":!0}),onClick:this.moveToSlide.bind(this,e),children:t.DOM.ul(p)}))}.bind(this)),s},getDotsNavigationWrapperStyle:function(){var t=this.getSkinExports(),i=n(t,this.props.compProp.navigationDotsSize);return{bottom:this.props.compProp.navigationDotsMargin-.5*i,justifyContent:this.getDotsAlignment(),WebkitJustifyContent:this.getDotsAlignment()}},moveNextSlide:function(t){if(!this.state.isInTransition){this.reverse=!1;var i=l.getNextSlideIndex(this.getSlidesFromChildren(this.props.children),this.state.currentIndex);this.setCurrentSlideAndRegisterRelayout(i,!1,!0,t)}},movePreviousSlide:function(t){if(!this.state.isInTransition){this.reverse=!0;var i=l.getPrevSlideIndex(this.getSlidesFromChildren(this.props.children),this.state.currentIndex);this.setCurrentSlideAndRegisterRelayout(i,!1,!0,t)}},isSlideDirectionReversed:function(t){var i=this.state.currentIndex;return t>i?0===i&&t===this.getSlidesFromChildren(this.props.children).length-1:!(0===t&&i===this.getSlidesFromChildren(this.props.children).length-1)},moveToSlide:function(t,e){if(t===this.state.currentIndex||this.state.isInTransition)return void e();var o=this.getSlidesFromChildren(this.props.children);i.isNumber(t)&&t>=0&&t<o.length&&(this.reverse=this.isSlideDirectionReversed(t),this.setCurrentSlideAndRegisterRelayout(t,!1,!0,e))},getSlidesFromChildren:function(t){return l.getSlidesFromChildrenByProps(t)},getShownOnAllSlidesFromChildren:function(t){return l.getShownOnAllSlidesFromChildrenByProps(t)},onMouseEnter:function(){this.state.autoPlay&&this.props.compProp.pauseAutoPlayOnMouseOver&&this.setState({autoPlay:!1},this.updateAutoPlayState)},onMouseLeave:function(){this.props.compProp.pauseAutoPlayOnMouseOver&&this.setState({autoPlay:this.canAutoPlay(this.props.compProp.autoPlay)},this.updateAutoPlayState)},getTransitionDuration:function(){return"NoTransition"===this.props.compProp.transition?0:this.props.compProp.transDuration},transitionCallback:function(t){this.setState({isInTransition:!1},t)},getArrowButtonStyle:function(t){var e=this.props.compProp,o=this.getSkinExports(),s=o.arrowWidthToHeightRatio||1,n=e.navigationButtonSize/s,r=e.navigationButtonMargin-.5*n,a=t?{left:r}:{right:r};return i.assign(a,{width:n})},getNavigationArrowsStyle:function(){var t=this.getSkinExports(),i=t.arrowWidthToSizeRatio||1;return{top:"calc(50% - "+this.props.compProp.navigationButtonSize*i+"px)"}},getDotsAlignment:function(){return p[this.props.compProp.navigationDotsAlignment]},clickMoveToNextSlide:function(){this.moveNextSlide()},clickMoveToPreviousSlide:function(){this.movePreviousSlide()}}}),define("stripSlideShow/common/stripSlideShow",["react","lodash","core","santaProps","stripSlideShow/common/slideNavigationMixin"],function(t,i,e,o,s){var n=t.createFactory(e.wixTransitionGroup);return{displayName:"stripSlideShow",mixins:[s],propTypes:{animations:o.Types.animations,isSiteBusy:o.Types.isSiteBusy,updateColorInfo:o.Types.VerticalAnchorsMenu.updateInformation.isRequired,compProp:o.Types.Component.compProp.isRequired,getScreenWidth:o.Types.getScreenWidth.isRequired},statics:{useSantaTypes:!0,behaviors:{nextSlide:{methodName:"moveNextSlide",params:[]},prevSlide:{methodName:"movePreviousSlide",params:[]},moveToSlide:{methodName:"moveToSlide",params:["slide"]}}},getTransitionParams:function(){return{width:this.props.getScreenWidth()}},getSkinProperties:function(){return{"":{onSwipeLeft:this.clickMoveToNextSlide,onSwipeRight:this.clickMoveToPreviousSlide},inlineContentParent:{style:{overflow:this.props.compProp.shouldHideOverflowContent?"hidden":"visible"}},inlineContent:{parentConst:n,isSiteBusy:this.props.isSiteBusy,transition:this.props.compProp.transition,transitionDuration:this.getTransitionDuration(),transitionCallback:this.transitionCallback,animations:this.props.animations,reverse:this.isDirectionLeftToRight?!this.reverse:this.reverse,getTransitionParams:this.getTransitionParams,children:[t.cloneElement(this.getSlidesFromChildren(this.props.children)[this.state.currentIndex],{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,flexibleBoxHeight:this.props.compProp.flexibleBoxHeight,shouldHideOverflowContent:this.props.compProp.shouldHideOverflowContent,parentId:this.props.id,minHeight:this.props.structure.layout.height})]},shownOnAllSlides:{children:this.getShownOnAllSlidesFromChildren(this.props.children)},navigationArrows:{"data-show-navigation-arrows":this.props.compProp.showNavigationButton,"data-navigation-button-margin":this.props.compProp.navigationButtonMargin,style:this.getNavigationArrowsStyle()},dotsMenuWrapper:{"data-show-navigation-dots":this.props.compProp.showNavigationDots,children:this.createDotsNavigationButtons(),style:this.getDotsNavigationWrapperStyle()},prevButton:{onClick:this.clickMoveToPreviousSlide,style:this.getArrowButtonStyle(!0)},nextButton:{onClick:this.clickMoveToNextSlide,style:this.getArrowButtonStyle(!1)}}}}}),define("stripSlideShow/common/boxSlideShow",["react","lodash","core","santaProps","stripSlideShow/common/slideNavigationMixin"],function(t,i,e,o,s){var n=t.createFactory(e.wixTransitionGroup);return{displayName:"boxSlideShow",mixins:[s],propTypes:{animations:o.Types.animations,updateColorInfo:o.Types.VerticalAnchorsMenu.updateInformation.isRequired,isSiteBusy:o.Types.isSiteBusy,compProp:o.Types.Component.compProp.isRequired,compData:o.Types.Component.compData.isRequired,styleId:o.Types.Component.styleId.isRequired,id:o.Types.Component.id.isRequired,structure:o.Types.Component.structure.isRequired},statics:{useSantaTypes:!0,behaviors:{nextSlide:{methodName:"moveNextSlide",params:[]},prevSlide:{methodName:"movePreviousSlide",params:[]},moveToSlide:{methodName:"moveToSlide",params:["slide"]}}},getSkinProperties:function(){return{"":{"data-shouldhideoverflowcontent":this.props.compProp.shouldHideOverflowContent,onSwipeLeft:this.clickMoveToNextSlide,onSwipeRight:this.clickMoveToPreviousSlide},inlineContent:{isSiteBusy:this.props.isSiteBusy,parentConst:n,transition:this.props.compProp.transition,transitionDuration:this.getTransitionDuration(),transitionCallback:this.transitionCallback,animations:this.props.animations,reverse:this.isDirectionLeftToRight?!this.reverse:this.reverse,children:[t.cloneElement(this.getSlidesFromChildren(this.props.children)[this.state.currentIndex],{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,flexibleBoxHeight:this.props.compProp.flexibleBoxHeight,shouldHideOverflowContent:this.props.compProp.shouldHideOverflowContent,skin:this.getSkinExports().slide.skin,styleId:this.props.styleId+"slide",parentId:this.props.id,minHeight:this.props.structure.layout.height})]},shownOnAllSlides:{children:this.getShownOnAllSlidesFromChildren(this.props.children)},navigationArrows:{"data-show-navigation-arrows":this.props.compProp.showNavigationButton,style:this.getNavigationArrowsStyle()},dotsMenuWrapper:{"data-show-navigation-dots":this.props.compProp.showNavigationDots,children:this.createDotsNavigationButtons(),style:this.getDotsNavigationWrapperStyle()},prevButton:{onClick:this.clickMoveToPreviousSlide,style:this.getArrowButtonStyle(!0)},nextButton:{onClick:this.clickMoveToNextSlide,style:this.getArrowButtonStyle(!1)}}}}}),define("stripSlideShow",["stripSlideShow/common/stripSlideShow","stripSlideShow/common/boxSlideShow"],function(t,i){return{boxSlideShow:i,stripSlideShow:t}});
//# sourceMappingURL=stripSlideShow.min.js.map