"use strict";define("quickActionBar/quickAction/quickAction",["lodash","react"],function(t,i){return i.createClass({propTypes:{id:i.PropTypes.string.isRequired,styleId:i.PropTypes.string.isRequired,svgString:i.PropTypes.string.isRequired,fillColor:i.PropTypes.string.isRequired,backgroundColor:i.PropTypes.string.isRequired,textColor:i.PropTypes.string.isRequired,text:i.PropTypes.string.isRequired,href:i.PropTypes.string,clickHandler:i.PropTypes.func,notificationCount:i.PropTypes.number},render:function(){return i.DOM.a({className:this.props.styleId+"_action",style:{backgroundColor:this.props.backgroundColor,color:this.props.textColor},href:this.props.href,onClick:this.props.clickHandler},[i.DOM.div({className:this.props.styleId+"_icon",key:this.props.id+"_icon",style:{fill:this.props.fillColor},dangerouslySetInnerHTML:{__html:this.props.svgString}},null),i.DOM.div({className:this.props.styleId+"_text",key:"text"},this.props.text),i.DOM.div({className:this.props.styleId+"_notifications",key:this.props.id+"_notifications",style:{display:t.get(this.props,"notificationCount",0)>0?"initial":"none"}},null)])}})}),define("quickActionBar/utils/quickActionUtils",["lodash"],function(t){function i(i,o){var r=t.get(e,o.colorScheme);return o.invertColors?{fillColor:"#fff",backgroundColor:r||i.color,textColor:"#fff"}:{fillColor:r||i.color,backgroundColor:"#fff",textColor:r||"#000"}}var e={black:"#000",grey:"#888"};return{resolveIconColors:i}}),define("quickActionBar/utils/quickActionBarDataRequirementsChecker",["core","lodash","utils"],function(t,i,e){function o(t,e){var o="svgshape.v2.Svg_"+e;if(!i.has(t.svgShapes,o))return c.createSvgFetchRequest(t.serviceTopology.mediaRootUrl,t.svgShapes,o)}function r(t){var e=i.map(t.getClientSpecMap(),"appDefinitionId");return i(p).values().filter(function(t){return i.includes(e,t.appId)}).map(function(i){return o(t,i.icon)}).compact().value()}function n(t,e){return i.compact([o(t,e.data.icon)])}var s=t.dataRequirementsChecker,c=e.svg,p=e.constants.SUPPORTED_DYNAMIC_ACTIONS;s.registerCheckerForCompType("wysiwyg.viewer.components.QuickActionBarItem",n),s.registerCheckerForCompType("wysiwyg.viewer.components.QuickActionBar",r)}),define("quickActionBar",["lodash","react","core","santaProps","quickActionBar/quickAction/quickAction","quickActionBar/utils/quickActionUtils","quickActionBar/utils/quickActionBarDataRequirementsChecker"],function(t,i,e,o,r,n){return{displayName:"QuickActionBar",mixins:[e.compMixins.skinBasedComp],propTypes:{compProp:o.Types.Component.compProp.isRequired,siteScrollingBlocker:o.Types.SiteAspects.siteScrollingBlocker.isRequired,styleId:o.Types.Component.styleId.isRequired,dynamicActions:o.Types.QuickActions.dynamicActions.isRequired,structuredActions:o.Types.QuickActions.structuredActions.isRequired},getInitialState:function(){return{isOpen:!1}},toggleActionBar:function(){this.setState({isOpen:!this.state.isOpen})},componentDidUpdate:function(){this.props.siteScrollingBlocker.setSiteScrollingBlocked(this,this.state.isOpen)},getActions:function(){return t(this.props.dynamicActions).concat(t.orderBy(this.props.structuredActions,"priority","desc")).filter("enabled").take(5).value()},createActionClickHandler:function(i){return t.has(i,"appId")?t.isFunction(this.createActionClickHandlerInPreview)?this.createActionClickHandlerInPreview:t.partial(this.handleAction,i.appId):t.noop()},createActionComponent:function(e,o){var s=n.resolveIconColors(e,this.props.compProp),c=t.assign({id:this.props.id+"_"+o,clickHandler:this.createActionClickHandler(e)},t.pick(this.props,["styleId"]),t.pick(e,["text","href","svgString","notificationCount"]),t.pick(s,["fillColor","backgroundColor","textColor"]));return i.createElement(r,c)},createActionComponents:function(){return t.map(this.getActions(),this.createActionComponent)},getRootClasses:function(){var t={"hide-text":this.props.compProp.hideText,closed:!this.state.isOpen};return t["align-"+this.props.compProp.alignment]=!0,t["action-count-"+this.getActions().length]=!0,t},getSkinProperties:function(){return{"":{className:this.classSet(this.getRootClasses())},overlay:{onClick:this.toggleActionBar},controlButton:{onClick:this.toggleActionBar},actionsContainer:{children:this.createActionComponents()}}}}});
//# sourceMappingURL=quickActionBar.min.js.map